# π“ Re:Boot λΌμ΄λΈ μ„Έμ… μΈν”„λΌ κµ¬ν„ κ³„νμ„

**μƒμ„±μΌ**: 2026-02-20  
**μƒνƒ**: 2μ°¨ κ²€μ¦ μ™„λ£ β†’ κµ¬ν„ λ€κΈ°  
**κ²€μ¦μΌ**: 2026-02-20 (1μ°¨ + 2μ°¨)

---

## π“ μ•„ν‚¤ν…μ² κ²°μ •

### μ‹¤μ‹κ°„ ν†µμ‹  λ°©μ‹: **Short Polling (5μ΄ κ°„κ²©)**

| λ°©μ‹                        | μ¥μ                                | λ‹¨μ                                             | μ±„νƒ μ—¬λ¶€   |
| --------------------------- | ---------------------------------- | ----------------------------------------------- | ----------- |
| WebSocket (Django Channels) | μ§„μ§ μ‹¤μ‹κ°„                        | Redis/Daphne λ³„λ„ μΈν”„λΌ ν•„μ”, λ°°ν¬ λ³µμ΅λ„ μ¦κ°€ | β          |
| Server-Sent Events          | μ„λ²„β†’ν΄λΌ λ‹¨λ°©ν–¥ μ‹¤μ‹κ°„            | μ–‘λ°©ν–¥ λ¶κ°€, λΈλΌμ°μ € νΈν™μ„±                    | β          |
| **Short Polling (5s)**      | **μΈν”„λΌ λ³€κ²½ 0, κΈ°μ΅΄ DRF κ·Έλ€λ΅** | 5μ΄ μ§€μ—° ν—μ© ν•„μ”                              | **β… μ±„νƒ** |

**μ΄μ **: λ¶€νΈμΊ ν”„ 20~30λ… κ·λ¨μ—μ„λ” 5μ΄ ν΄λ§μΌλ΅ μ¶©λ¶„. μΈν”„λΌ ν¬μ μ—†μ΄ κΈ°μ΅΄ Django REST Frameworkλ§μΌλ΅ κµ¬ν„ κ°€λ¥.

---

## π—‚ κµ¬ν„ λ‹¨κ³„ (μμ΅΄μ„± μμ„)

### π“¦ Step 1: λΌμ΄λΈ μ„Έμ… λ¨λΈ + κµμμ μ„Έμ… κ΄€λ¦¬ (κΈ°λ° κ³µμ‚¬)

**μ²΄ν¬λ¦¬μ¤νΈ ν•­λ©:**

- [ ] κµμμ: μ„Έμ… μƒμ„± + QRμ½”λ“ / 6μλ¦¬ μ½”λ“ λ°κΈ‰
- [ ] ν•™μµμ: QRμ¤μΊ” λλ” μ½”λ“ μ…λ ¥μΌλ΅ μ„Έμ… μ…μ¥
- [ ] [NEW] κµμμ: κ°•μ μ „ κµμ• μ—…λ΅λ“ (PDF / PPT / λ§ν¬λ‹¤μ΄) β† _Step 5μ—μ„ μ΄λ™_

**λ°±μ—”λ“ μ‘μ—…:**

1. `LiveSession` λ¨λΈ μƒμ„±
   - `lecture` (FK β†’ Lecture)
   - `instructor` (FK β†’ User)
   - `session_code` (6μλ¦¬ λλ¤, μ λ‹ν¬)
   - `status` (WAITING / LIVE / ENDED)
   - `started_at`, `ended_at`
   - `title` (μ„ νƒ, "Week 3 - Django ORM")

2. `LiveParticipant` λ¨λΈ μƒμ„±
   - `live_session` (FK β†’ LiveSession)
   - `student` (FK β†’ User)
   - `learning_session` (FK β†’ LearningSession, null=True) β† _μ…μ¥ μ‹ μλ™ μƒμ„±λλ” κ°μΈ μ„Έμ…_
   - `joined_at`
   - `is_active` (True/False, heartbeat κΈ°λ°)

3. `LectureMaterial` λ¨λΈ μƒμ„± β† _Step 5μ—μ„ μ΄λ™_
   - `lecture` (FK β†’ Lecture)
   - `file` (FileField, upload_to='materials/%Y/%m/')
   - `file_type` (PDF / PPT / MD)
   - `title` (CharField)
   - `uploaded_by` (FK β†’ User)
   - `uploaded_at` (auto_now_add)

4. API μ—”λ“ν¬μΈνΈ
   - `POST /api/learning/live/create/` β†’ μ„Έμ… μƒμ„± + μ½”λ“ λ°κΈ‰
   - `POST /api/learning/live/join/` β†’ ν•™μƒ μ…μ¥ (μ½”λ“ μ…λ ¥), κ°μΈ LearningSession μλ™ μƒμ„±
   - `GET /api/learning/live/{id}/status/` β†’ μ„Έμ… μƒνƒ μ΅°ν (μ°Έκ°€μ μ ν¬ν•¨)
   - `POST /api/learning/live/{id}/end/` β†’ μ„Έμ… μΆ…λ£
   - `POST /api/learning/lectures/{id}/materials/` β†’ κµμ• μ—…λ΅λ“
   - `GET /api/learning/lectures/{id}/materials/` β†’ κµμ• λ©λ΅ μ΅°ν

5. **λ¨λΈ κ΄€κ³„ μ„¤κ³„:**

   ```
   LiveSession (1) β”€β”€β–¶ (N) LiveParticipant β”€β”€β–¶ (1) LearningSession (ν•™μƒ κ°μΈ)
       β”‚                                              β”‚
       β””β”€β”€ STTλ” κµμμ λ§μ΄ν¬ κΈ°μ¤€ (LiveSessionμ— μ—°κ²°)     β””β”€β”€ ν•™μƒλ³„ ν„μ¤/ν€΄μ¦ μ‘λ‹µ κΈ°λ΅
   ```

   - STT λ΅κ·Έ: κµμμ λ§μ΄ν¬ β†’ `LiveSession`μ— μ—°κ²°λλ” `LiveSTTLog` λ¨λΈ (Step 1μ—μ„ ν•¨κ» μƒμ„±)
   - ν•™μƒ κ°μΈ ν™λ™(ν„μ¤/ν€΄μ¦ μ‘λ‹µ): `LiveParticipant` λλ” `LearningSession`μ— μ—°κ²°

6. `LiveSTTLog` λ¨λΈ μƒμ„± β† _2μ°¨ κ²€μ¦μ—μ„ μ¶”κ°€_
   - `live_session` (FK β†’ LiveSession)
   - `sequence_order` (IntegerField)
   - `text_chunk` (TextField)
   - `created_at` (auto_now_add)

**ν”„λ΅ νΈμ—”λ“ μ‘μ—…:**

- κµμμ λ€μ‹λ³΄λ“: "λΌμ΄λΈ μ„Έμ… μ‹μ‘" λ²„νΌ + μ½”λ“ ν‘μ‹ μΉ΄λ“ + κµμ• μ—…λ΅λ“ μμ—­
- ν•™μµμ: μ½”λ“ μ…λ ¥ β†’ λΌμ΄λΈ μ„Έμ… μ…μ¥ ν™”λ©΄

---

### π“¦ Step 2: μ‹¤μ‹κ°„ μ΄ν•΄λ„ ν„μ¤ + λ¨λ‹ν„°λ§

**μ²΄ν¬λ¦¬μ¤νΈ ν•­λ©:**

- [ ] ν•™μµμ: μ‹¤μ‹κ°„ μ΄ν•΄λ„ ν„μ¤ μ²΄ν¬ λ²„νΌ (β… / β“)
- [ ] κµμμ: μ‹¤μ‹κ°„ μ΄ν•΄λ„ λΉ„μ¨ ν™•μΈ ν™”λ©΄

**λ°±μ—”λ“ μ‘μ—…:**

1. `PulseCheck` λ¨λΈ μƒμ„±
   - `live_session` (FK β†’ LiveSession)
   - `student` (FK β†’ User)
   - `pulse_type` (UNDERSTAND / CONFUSED)
   - `created_at`

2. API μ—”λ“ν¬μΈνΈ
   - `POST /api/learning/live/{id}/pulse/` β†’ ν•™μƒ ν„μ¤ μ „μ†΅
   - `GET /api/learning/live/{id}/pulse-stats/` β†’ κµμμ μ‹¤μ‹κ°„ λΉ„μ¨ μ΅°ν
   - **μ¤νΈ λ°©μ§€ μ •μ±…**: λ™μΌ ν•™μƒμ ν„μ¤λ” 30μ΄ μΏ¨λ‹¤μ΄ μ μ©, λλ” μµμ‹  1κ±΄λ§ μ μ§€ (UPDATE or INSERT)

**ν”„λ΅ νΈμ—”λ“ μ‘μ—…:**

- ν•™μµμ: ν™”λ©΄ ν•λ‹¨ κ³ μ • β…/β“ ν”λ΅ν… λ²„νΌ
- κµμμ: μ‹¤μ‹κ°„ μ΄ν•΄λ„ κ²μ΄μ§€ λ°” (5μ΄ ν΄λ§)

---

### π“¦ Step 3: μ²΄ν¬ν¬μΈνΈ ν€΄μ¦ (κµμμ λ°λ™ β†’ ν•™μµμ μμ‹ )

**μ²΄ν¬λ¦¬μ¤νΈ ν•­λ©:**

- [ ] κµμμ: STT ν‚¤μ›λ“ μ¤νν… κΈ°λ° νΈλ¦¬κ±° κ°μ§€
- [ ] κµμμ: Short-term STT β†’ AI ν€΄μ¦ μλ™ μƒμ„± β†’ μ¤λ§νΈ νμ—…
- [ ] κµμμ: μ²΄ν¬ν¬μΈνΈ ν€΄μ¦ λ°λ™ λ²„νΌ (AI μƒμ„± ν™•μΈ / μ§μ ‘ μ…λ ¥ λ³‘ν–‰)
- [ ] ν•™μµμ: ν€΄μ¦ νμ—… μμ‹  + μ‘λ‹µ + μ¦‰μ‹ μ •μ¤λ‹µ ν™•μΈ

**λ°±μ—”λ“ μ‘μ—…:**

1. `LiveQuiz` λ¨λΈ μƒμ„±
   - `live_session` (FK β†’ LiveSession)
   - `question_text`, `options` (JSON), `correct_answer`
   - `is_ai_generated` (Boolean)
   - `triggered_at`
   - `explanation` (TextField, ν•΄μ„¤)

2. `LiveQuizResponse` λ¨λΈ μƒμ„±
   - `quiz` (FK β†’ LiveQuiz)
   - `student` (FK β†’ User)
   - `answer`, `is_correct`
   - `responded_at`

3. **STT ν‚¤μ›λ“ μ¤νν… κµ¬ν„ μ‚¬μ–‘:**
   - **κ°μ§€ μ£Όμ²΄**: λ°±μ—”λ“ (STT ν…μ¤νΈ ν›„μ²λ¦¬)
   - **νΈλ¦¬κ±° ν‚¤μ›λ“ λ©λ΅**: `["μ΄ν•΄λμ…¨λ‚μ”", "μ§λ¬Έ μλ‚μ”", "μ—¬κΈ°κΉμ§€ κ΄μ°®μΌμ‹μ£ ", "λ‹¤μμΌλ΅ λ„μ–΄κ°κ²μ”"]`
   - **κ°μ§€ λ΅μ§**: μµκ·Ό Nκ° STT μ²­ν¬μ—μ„ ν‚¤μ›λ“ λ§¤μΉ­ β†’ κµμμμ—κ² "ν€΄μ¦ μ μ•" μ•λ¦Ό
   - **λ™μ‘**: μλ™ λ°λ™ μ•„λ‹, κµμμμ—κ² **μ μ•λ§** ("μ΄ μ‹μ μ— ν€΄μ¦λ¥Ό λ‚΄λ³΄μ‹κ² μµλ‹κΉ?")
   - **AI ν€΄μ¦ μƒμ„±**: κΈ°μ΅΄ `_generate_quiz_from_ai()` λ΅μ§ μ¬ν™μ©. μµκ·Ό 5~10λ¶„ STT ν…μ¤νΈ κΈ°λ°

4. API μ—”λ“ν¬μΈνΈ
   - `POST /api/learning/live/{id}/quiz/create/` β†’ κµμμκ°€ ν€΄μ¦ λ°λ™
   - `POST /api/learning/live/{id}/quiz/generate/` β†’ AI ν€΄μ¦ μλ™ μƒμ„±
   - `GET /api/learning/live/{id}/quiz/pending/` β†’ ν•™μƒ λ―Έμ‘λ‹µ ν€΄μ¦ μ΅°ν
   - `POST /api/learning/live/{id}/quiz/{qid}/answer/` β†’ ν•™μƒ μ‘λ‹µ
   - `GET /api/learning/live/{id}/quiz/{qid}/results/` β†’ κµμμ κ²°κ³Ό ν™•μΈ

**ν”„λ΅ νΈμ—”λ“ μ‘μ—…:**

- κµμμ: "ν€΄μ¦ λ°λ™" λ²„νΌ + AI μƒμ„±/μ§μ ‘ μ…λ ¥ μ„ νƒ λ¨λ‹¬
- ν•™μµμ: ν€΄μ¦ νμ—… (5μ΄ ν΄λ§μΌλ΅ μ‹ κ· ν€΄μ¦ κ°μ§€) + μ¦‰μ‹ μ±„μ 

---

### π“¦ Step 4: μµλ… Q&A

**μ²΄ν¬λ¦¬μ¤νΈ ν•­λ©:**

- [ ] ν•™μµμ: μµλ… μ§λ¬Έ ν…μ¤νΈ μ…λ ¥ + μ „μ†΅
- [ ] κµμμ: μ§λ¬Έ ν ν™•μΈ + μ μ‚¬ μ§λ¬Έ λ¬¶μ μ²λ¦¬

**λ°±μ—”λ“ μ‘μ—…:**

1. `LiveQuestion` λ¨λΈ μƒμ„±
   - `live_session` (FK β†’ LiveSession)
   - `student` (FK β†’ User, μ„λ²„μ—λ§ μ €μ¥, μ‘λ‹µμ— λ―Έν¬ν•¨)
   - `question_text`
   - `is_answered` (Boolean)
   - `cluster_group` (Integer, μ μ‚¬ μ§λ¬Έ λ¬¶μμ©)
   - `upvote_count` (Integer)
   - `created_at`

2. API μ—”λ“ν¬μΈνΈ
   - `POST /api/learning/live/{id}/questions/` β†’ μ§λ¬Έ μ „μ†΅
   - `GET /api/learning/live/{id}/questions/` β†’ μ§λ¬Έ λ©λ΅ (κµμμμ©)
   - `POST /api/learning/live/{id}/questions/{qid}/upvote/` β†’ κ°™μ€ μ§λ¬Έ ν¬ν‘
   - `POST /api/learning/live/{id}/questions/cluster/` β†’ AI μ μ‚¬ μ§λ¬Έ λ¬¶μ

**ν”„λ΅ νΈμ—”λ“ μ‘μ—…:**

- ν•™μµμ: μ§λ¬Έ μ…λ ¥ νΌ + λ‹¤λ¥Έ ν•™μƒ μ§λ¬Έ λ³΄κΈ° + κ³µκ° λ²„νΌ
- κµμμ: μ§λ¬Έ ν ν¨λ„ (μ‹¤μ‹κ°„ κ°±μ‹ , μ μ‚¬ μ§λ¬Έ λ¬¶μ ν‘μ‹)

---

### π“¦ Step 5: μ„Έμ… μΆ…λ£ + λ°°μΉ μ²λ¦¬ + κµμ• ν†µν•©

**μ²΄ν¬λ¦¬μ¤νΈ ν•­λ©:**

- [ ] κµμμ: μ„Έμ… μΆ…λ£ + λ°°μΉ STT μ „μ‚¬ + μΈμ‚¬μ΄νΈ λ¦¬ν¬νΈ
- [ ] ν•™μµμ: μ„Έμ… μΆ…λ£ ν›„ κ°μΈ μ”μ•½ + κ°­ λ§µ μ—…λ°μ΄νΈ
- [ ] μ‹μ¤ν…: λ°°μΉ μ „μ‚¬ μ™„λ£ ν›„ LLM μ”μ•½ + κµμ• ν†µν•© (10~20λ¶„)
- [ ] κµμμ: AI ν†µν•© μ”μ•½ λ…ΈνΈ μ΄μ• κ²€ν†  + μμ • + λ°°ν¬ μΉμΈ
- [ ] ν•™μµμ: ν†µν•© μ”μ•½ λ…ΈνΈ μμ‹  + μ—΄λ
- [ ] ν•™μµμ(κ²°μ„μƒ): μ”μ•½ λ…ΈνΈ μμ‹  + μ…€ν”„ ν…μ¤νΈ + κ°­ λ§µ λ°μ
- [ ] (μ„ νƒ) λ³΄μ΄μ¤ Q&A

**λ°±μ—”λ“ μ‘μ—…:**

1. `IntegratedNote` λ¨λΈ (ν†µν•© μ”μ•½ λ…ΈνΈ)
   - `live_session` (FK β†’ LiveSession)
   - `content_text` (TextField)
   - `is_approved` (Boolean, κµμμ μΉμΈ μ—¬λ¶€)
   - `approved_at` (DateTimeField)
   - `material` (FK β†’ LectureMaterial, null=True, μ—°κ²°λ κµμ•)

2. μ„Έμ… μΆ…λ£ μ‹:
   - κΈ°μ΅΄ `recording_pipeline.py`μ λ°°μΉ STT μ¬ν™μ©
   - κµμ• + STT μ „μ‚¬λ³Έ β†’ GPT-4o ν†µν•© μ”μ•½
   - `IntegratedNote` μƒμ„± (μ΄μ•)
   - κµμμ μΉμΈ ν›„ ν•™μƒ λ°°ν¬

3. API μ—”λ“ν¬μΈνΈ β† _2μ°¨ κ²€μ¦μ—μ„ μ¶”κ°€_
   - `POST /api/learning/live/{id}/finalize/` β†’ μ„Έμ… μΆ…λ£ + λ°°μΉ μ „μ‚¬ νΈλ¦¬κ±°
   - `GET /api/learning/live/{id}/note/` β†’ ν†µν•© λ…ΈνΈ μ΅°ν (κµμμμ©)
   - `PUT /api/learning/live/{id}/note/approve/` β†’ κµμμ μΉμΈ + λ°°ν¬
   - `GET /api/learning/live/{id}/note/student/` β†’ ν•™μƒμ© λ°°ν¬λ λ…ΈνΈ μ΅°ν

---

## π¦ ν„μ¬ μ§„ν–‰ μƒνƒ

| Step       | μ„¤λ…                                  | μƒνƒ    |
| ---------- | ------------------------------------- | ------- |
| **Step 1** | λΌμ΄λΈ μ„Έμ… λ¨λΈ + μ…μ¥ + κµμ• μ—…λ΅λ“ | β¬ λ€κΈ° |
| Step 2     | μ΄ν•΄λ„ ν„μ¤                           | β¬ λ€κΈ° |
| Step 3     | μ²΄ν¬ν¬μΈνΈ ν€΄μ¦                       | β¬ λ€κΈ° |
| Step 4     | μµλ… Q&A                              | β¬ λ€κΈ° |
| Step 5     | μ„Έμ… μΆ…λ£ + κµμ• ν†µν•©                 | β¬ λ€κΈ° |

---

## β± μμƒ μ†μ” μ‹κ°„

| Step      | λ°±μ—”λ“ | ν”„λ΅ νΈμ—”λ“ | ν•©κ³„            |
| --------- | ------ | ---------- | --------------- |
| Step 1    | ~40λ¶„  | ~40λ¶„      | ~1μ‹κ°„ 20λ¶„     |
| Step 2    | ~20λ¶„  | ~20λ¶„      | ~40λ¶„           |
| Step 3    | ~40λ¶„  | ~40λ¶„      | ~1μ‹κ°„ 20λ¶„     |
| Step 4    | ~30λ¶„  | ~30λ¶„      | ~1μ‹κ°„          |
| Step 5    | ~50λ¶„  | ~40λ¶„      | ~1μ‹κ°„ 30λ¶„     |
| **Total** |        |            | **~5μ‹κ°„ 30λ¶„** |
