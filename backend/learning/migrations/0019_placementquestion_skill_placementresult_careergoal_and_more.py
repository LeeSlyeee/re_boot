# Generated by Django 5.2.10 on 2026-02-20 17:01

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ("learning", "0018_livequiz_is_suggestion"),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name="PlacementQuestion",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("question_text", models.TextField(help_text="Î¨∏Ï†ú ÎÇ¥Ïö©")),
                (
                    "options",
                    models.JSONField(
                        help_text="Î≥¥Í∏∞ Î¶¨Ïä§Ìä∏ (Ïòà: ['AÎãµ', 'BÎãµ', 'CÎãµ', 'DÎãµ'])"
                    ),
                ),
                ("correct_answer", models.CharField(help_text="Ï†ïÎãµ", max_length=255)),
                (
                    "category",
                    models.CharField(
                        choices=[
                            ("CONCEPT", "Í∞úÎÖê Ïù¥Ìï¥ÎèÑ"),
                            ("PRACTICE", "Ïã§Ïäµ Í≤ΩÌóò"),
                            ("PATTERN", "ÌïôÏäµ Ìå®ÌÑ¥"),
                        ],
                        default="CONCEPT",
                        max_length=20,
                    ),
                ),
                ("difficulty", models.IntegerField(default=1, help_text="ÎÇúÏù¥ÎèÑ 1~3")),
                ("order", models.IntegerField(default=0, help_text="Ï∂úÏ†ú ÏàúÏÑú")),
                ("explanation", models.TextField(blank=True, help_text="Ï†ïÎãµ Ìï¥ÏÑ§")),
            ],
            options={
                "ordering": ["order"],
            },
        ),
        migrations.CreateModel(
            name="Skill",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "name",
                    models.CharField(
                        help_text="Ïó≠Îüâ Ïù¥Î¶Ñ (Ïòà: ÌÅ¥Î°úÏ†Ä Ïù¥Ìï¥)", max_length=100
                    ),
                ),
                (
                    "category",
                    models.CharField(
                        choices=[
                            ("JAVASCRIPT", "JavaScript"),
                            ("PYTHON", "Python"),
                            ("HTML_CSS", "HTML/CSS"),
                            ("FRAMEWORK", "Framework"),
                            ("DATABASE", "Database"),
                            ("DEVOPS", "DevOps"),
                            ("CS_BASIC", "CS Í∏∞Ï¥à"),
                            ("SOFT_SKILL", "ÏÜåÌîÑÌä∏Ïä§ÌÇ¨"),
                        ],
                        default="JAVASCRIPT",
                        max_length=20,
                    ),
                ),
                (
                    "description",
                    models.TextField(blank=True, help_text="Ïó≠Îüâ ÏÉÅÏÑ∏ ÏÑ§Î™Ö"),
                ),
                (
                    "difficulty_level",
                    models.IntegerField(
                        default=1, help_text="ÎÇúÏù¥ÎèÑ (1=Í∏∞Ï¥à, 2=Ï§ëÍ∏â, 3=Ïã¨Ìôî)"
                    ),
                ),
                ("order", models.IntegerField(default=0, help_text="ÌëúÏãú ÏàúÏÑú")),
            ],
            options={
                "ordering": ["category", "order"],
            },
        ),
        migrations.CreateModel(
            name="PlacementResult",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "level",
                    models.IntegerField(
                        choices=[
                            (1, "Level 1: ÏôÑÏ†Ñ Ï¥àÎ≥¥"),
                            (2, "Level 2: Í∏∞Ï¥à Ïù¥Ìï¥Ïûê"),
                            (3, "Level 3: Ïã§Ïäµ Í≤ΩÌóòÏûê"),
                        ],
                        default=1,
                    ),
                ),
                ("score", models.IntegerField(default=0, help_text="Ï¥ù ÎßûÏùÄ Í∞úÏàò")),
                ("total_questions", models.IntegerField(default=20)),
                (
                    "answers",
                    models.JSONField(
                        default=dict,
                        help_text="ÏùëÎãµ Í∏∞Î°ù {question_id: selected_answer}",
                    ),
                ),
                (
                    "category_scores",
                    models.JSONField(
                        default=dict,
                        help_text="Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ Ï†êÏàò {CONCEPT: 5, PRACTICE: 3, PATTERN: 2}",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                (
                    "lecture",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="placement_results",
                        to="learning.lecture",
                    ),
                ),
                (
                    "student",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="placement_results",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="CareerGoal",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "title",
                    models.CharField(
                        help_text="ÏßÅÎ¨¥Î™Ö (Ïòà: ÌîÑÎ°†Ìä∏ÏóîÎìú Í∞úÎ∞úÏûê)", max_length=100
                    ),
                ),
                ("description", models.TextField(blank=True, help_text="ÏßÅÎ¨¥ ÏÑ§Î™Ö")),
                (
                    "estimated_weeks",
                    models.IntegerField(default=12, help_text="ÏòàÏÉÅ ÌïôÏäµ Í∏∞Í∞Ñ (Ï£º)"),
                ),
                (
                    "icon",
                    models.CharField(
                        default="üíª", help_text="ÏïÑÏù¥ÏΩò Ïù¥Î™®ÏßÄ", max_length=10
                    ),
                ),
                (
                    "required_skills",
                    models.ManyToManyField(
                        blank=True, related_name="career_goals", to="learning.skill"
                    ),
                ),
            ],
            options={
                "ordering": ["title"],
            },
        ),
        migrations.CreateModel(
            name="StudentGoal",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "custom_goal_text",
                    models.TextField(blank=True, help_text="ÏßÅÏ†ë ÏûÖÎ†•Ìïú Î™©Ìëú (ÏÑ†ÌÉù)"),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "career_goal",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="students",
                        to="learning.careergoal",
                    ),
                ),
                (
                    "student",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="student_goals",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "ordering": ["-updated_at"],
            },
        ),
        migrations.CreateModel(
            name="StudentSkill",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("OWNED", "Î≥¥Ïú† ‚úÖ"),
                            ("GAP", "ÎØ∏Î≥¥Ïú† üî≤"),
                            ("LEARNING", "ÌïôÏäµ Ï§ë üîÑ"),
                        ],
                        default="GAP",
                        max_length=10,
                    ),
                ),
                ("progress", models.IntegerField(default=0, help_text="ÏàôÎã¨ÎèÑ 0~100%")),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "skill",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="student_records",
                        to="learning.skill",
                    ),
                ),
                (
                    "student",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="student_skills",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "ordering": ["skill__category", "skill__order"],
                "unique_together": {("student", "skill")},
            },
        ),
    ]
